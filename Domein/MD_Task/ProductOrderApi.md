# Задание: API с CRUD и дополнительными запросами

---

## Цель
Реализовать REST API для управления продуктами и заказами. API должно включать 4 стандартные CRUD-операции и 6 дополнительных аналитических или функциональных запросов.

---

## 1. База данных

Создайте базу данных `SimpleShop` с двумя таблицами:

### Таблица `Products`:
- `Id` (уникальный идентификатор)
- `Name` (название продукта)
- `Price` (цена продукта)
- `Stock` (количество на складе)

### Таблица `Orders`:
- `Id` (уникальный идентификатор)
- `ProductId` (ссылка на продукт)
- `Quantity` (количество заказанного товара)
- `TotalPrice` (итоговая стоимость)
- `OrderDate` (дата заказа)

---

## 2. CRUD-запросы

### Продукты (`Products`):
1. **Получить список всех продуктов**: `GET /api/products`  
2. **Добавить новый продукт**: `POST /api/products`  
3. **Получить продукт по ID**: `GET /api/products/{id}`  
4. **Обновить продукт**: `PUT /api/products/{id}`  
5. **Удалить продукт**: `DELETE /api/products/{id}`  

### Заказы (`Orders`):
6. **Получить список всех заказов**: `GET /api/orders`  
7. **Добавить новый заказ**: `POST /api/orders`  
8. **Получить заказ по ID**: `GET /api/orders/{id}`  
9. **Обновить заказ**: `PUT /api/orders/{id}`  
10. **Удалить заказ**: `DELETE /api/orders/{id}`  

---
## 2. Дополнительные запросы

### Продукты:
11. **Получить список продуктов с низким остатком на складе (DTO)**: `GET /api/products/low-stock`  
    - Возвращает список продуктов, у которых остаток на складе меньше определенного значения (например, 10). DTO включает `Id`, `Name`, `Stock`.

12. **Получить самый дорогой продукт (DTO)**: `GET /api/products/most-expensive`  
    - Возвращает информацию о самом дорогом продукте. DTO включает `Id`, `Name`, `Price`.

---

### Заказы:
13. **Получить список заказов за период (DTO)**: `GET /api/orders/by-date` 
    - **Описание**: Возвращает список заказов, сделанных в заданном диапазоне дат (принимает 2 даты: дата начала и дата окончания).   
    - Фильтрует заказы по заданному диапазону дат. DTO включает `Id`, `ProductId`, `TotalPrice`, `OrderDate`.

14. **Получить общую сумму заказов по продукту (DTO)**: `GET /api/orders/total-by-product/{productId}`  
    - Возвращает общую сумму стоимости и количества заказов для указанного продукта. DTO включает `ProductId`, `TotalQuantity`, `TotalPrice`.

15. **Получить топ-3 продукта по количеству заказов (DTO)**: `GET /api/products/top-3`  
    - Возвращает три самых популярных продукта по количеству заказов. DTO включает `Id`, `Name`, `TotalOrders`.

16. **Получить количество заказов за каждый день**: `GET /api/orders/daily-summary`  
    - **Описание**: Возвращает количество заказов, сделанных на каждый день. 